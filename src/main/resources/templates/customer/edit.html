<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout(title='顧客編集')}">

<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" th:href="@{/css/edit.css}">
	<script src="/js/formDoubleSubmission.js"></script>
	<title th:text="${title}"></title>

<body>
	<div class="mt-3" style="width:90%; margin: 0 auto;" layout:fragment="content">
		<div class="card m-3">
			<div class="card-header d-flex justify-content-between align-items-center">
				<div th:text="${'顧客ID：' + formCustomer.id + ' ' + formCustomer.getFullName() + ' 様'}"></div>
			</div>
			<div class="card-body">
				<form th:action="@{/customer/{id}/edit(id=${formCustomer.id})}" method="post"
					th:object="${formCustomer}">
					<input type="hidden" th:field="*{id}">

					<div class="row mb-3">
						<label class="col-sm-2 col-form-label">姓</label>
						<div class="col-sm-2">
							<input class="form-control" type="text" th:field="*{lastName}">
						</div>
						<span th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}" th:errorclass="err">
					</div>

					<div class="row mb-3">
						<label class="col-sm-2 col-form-label">名</label>
						<div class="col-sm-2">
							<input class="form-control" type="text" th:field="*{firstName}">
						</div>
						<span th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}" th:errorclass="err">
					</div>

					<div class="row mb-3">
						<label class="col-sm-2 col-form-label">〒</label>
						<div class="col-sm-2">
							<input class="form-control" type="text" th:field="*{zipcode}">
						</div>
						<span th:if="${#fields.hasErrors('zipcode')}" th:errors="*{zipcode}" th:errorclass="err">
					</div>

					<div class="row mb-3">
						<label class="col-sm-2 col-form-label">住所</label>
						<div class="col-sm-6">
							<input class="form-control" type="text" th:field="*{address}">
						</div>
						<span th:if="${#fields.hasErrors('address')}" th:errors="*{address}" th:errorclass="err">
					</div>

					<div class="row mb-3">
						<label class="col-sm-2 col-form-label">電話番号</label>
						<div class="col-sm-2">
							<input class="form-control" type="tel" th:field="*{phoneNumber}"
								pattern="\d{2,4}-\d{3,4}-\d{3,4}">
						</div>
						<span th:if="${#fields.hasErrors('phoneNumber')}" th:errors="*{phoneNumber}"
							th:errorclass="err">
					</div>

					<div class="row mb-3">
						<label class="col-sm-2 col-form-label d-flex align-items-center">備考</label>
						<div class="col-sm-8">
							<textarea class="form-control" th:field="*{memo}" rows="3"></textarea>
						</div>
					</div>

					<div>
						<input type="button" th:onclick="|location.href='@{/customer/{id}(id=${formCustomer.id})}'|"
							value="取消">
						<input type="submit" value="保存">
					</div>
				</form>
			</div>
		</div>
	</div>
</body>

</html>