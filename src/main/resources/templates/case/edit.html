<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout/layout(title='案件編集')}">

<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" th:href="@{/css/edit.css}">
	<title th:text="${title}"></title>

<body>
	<div class="mt-3" style="width:90%; margin: 0 auto;" layout:fragment="content">
		<div class="card m-3">
			<div class="card-header d-flex justify-content-between align-items-center">
				<div th:text="${'案件ID：' + formCase.id }"></div>
			</div>
			<div class="card-body">
				<form th:action="@{/case/{id}/edit(id=${formCase.id})}" method="post" th:object="${formCase}">
					<input type="hidden" th:field="*{id}">
					<input type="hidden" th:field="*{customerId}">
					<input type="hidden" th:field="*{shippingStockFlg}">

					<table>
						<tr>
							<th>作成日</th>
							<td><input type="date" th:field="*{caseDate}"></td>
							<td th:if="${#fields.hasErrors('caseDate')}" th:errors="*{caseDate}" th:errorclass="err">
							</td>
						</tr>
						<tr>
							<th>案件名</th>
							<td><input type="text" th:field="*{caseName}"></td>
							<td th:if="${#fields.hasErrors('caseName')}" th:errors="*{caseName}" th:errorclass="err">
							</td>
						</tr>
						<tr th:if="*{order}">
							<th>発送ステータス</th>
							<td>
								<select th:if="*{shippingStockFlg == false}" th:field="*{shippingStatus}">
									<option value="0">選択して下さい</option>
									<option value="1" th:selected="${formCase.shippingStatus==1}">支払待ち</option>
									<option value="2" th:selected="${formCase.shippingStatus==2}">発送待ち</option>
									<option value="3" th:selected="${formCase.shippingStatus==3}">発送済み</option>
									<option value="4" th:selected="${formCase.shippingStatus==4}">キャンセル</option>
								</select>
								<select th:if="*{shippingStockFlg == true}" th:field="*{shippingStatus}">
									<option value="3" th:selected="${formCase.shippingStatus==3}">発送済み</option>
									<option value="4" th:selected="${formCase.shippingStatus==4}">キャンセル</option>
								</select>
							</td>
							<td th:if="${#fields.hasErrors('shippingStatus')}" th:errors="*{shippingStatus}"
								th:errorclass="err"></td>
						</tr>
						<tr>
							<th>備考</th>
							<td><input type="text" th:field="*{memo}"></td>
						</tr>
					</table>
					<input type="button" th:onclick="|location.href='@{/customer/{id}(id=${formCase.customerId}, caseId=${formCase.id})}'|"
						value="取消">
					<input type="submit" value="保存">
				</form>
			</div>
		</div>
	</div>
</body>

</html>